# yolov5 ä¿å§†çº§åˆ«æ•™å…¥é—¨ï¼Œä¸ä¼šå°±æŠŠæˆ‘å¤´æ‰“çˆ†ã€‚

### å‰è¨€ï¼š

ä»“åº“åœ°å€ï¼š

æ•°æ®é›†åœ°å€ï¼š

è¿™é‡Œå¼•ç”¨ä¸¤ç¯‡æ›´æœ‰å«é‡‘é‡å’Œæ›´è¯¦ç»†çš„æ–‡ç« ï¼Œä¹Ÿæ˜¯ä»–ä»¬é¢†æˆ‘è¿›é—¨çš„ã€‚

* [æ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨YOLOV5è®­ç»ƒè‡ªå·±çš„ç›®æ ‡æ£€æµ‹æ¨¡å‹-å£ç½©æ£€æµ‹-è§†é¢‘æ•™ç¨‹](https://blog.csdn.net/ECHOSON/article/details/121939535)
* [çˆ†è‚6000å­—Yolov5ä¿å§†çº§æ•™ç¨‹ï¼Œ80å²è€å¥¶å¥¶éƒ½çœ‹å¾—æ‡‚ï¼](https://blog.csdn.net/ECHOSON/article/details/121939535)

### ç©è½¬yolov5ï¼š

* **ç¯å¢ƒé…ç½®**ï¼Œå¤šçš„æˆ‘ä¹Ÿä¸è¯´ï¼Œæˆ‘æ­å»ºçš„ç¯å¢ƒæ˜¯linux+anaconda+pytorchï¼ˆgpuç‰ˆï¼Œå¼ºçƒˆè¦æ±‚ç”¨gpuï¼‰cuda11.4+cudnn+pycharmï¼Œè¯¦ç»†çš„è¯·çœ‹ï¼š

  [å¦‚ä½•åœ¨pycharmä¸­é…ç½®anacondaçš„è™šæ‹Ÿç¯å¢ƒ_dejahuçš„åšå®¢-CSDNåšå®¢_å¦‚ä½•åœ¨pycharmä¸­é…ç½®anaconda](https://blog.csdn.net/ECHOSON/article/details/117220445)ï¼Œä½†æˆ‘è¦è®°å½•ä¸€ä¸ªå‘ï¼Œä¸€å¼€å§‹æˆ‘ä»¥ä¸ºpytorchï¼ˆgpuç‰ˆï¼‰è¦ç”¨åˆ°å¯¹åº”çš„cudaå’Œcudnnç‰ˆæœ¬ï¼Œæœ¬åœ°æœºå™¨ä¹Ÿè¦å®‰è£…å¯¹åº”å¥½çš„ç‰ˆæœ¬å…¶å®æ‰èƒ½ç”¨ï¼Œå…¶å®ä¸ç„¶ï¼Œåªè¦ç‰ˆæœ¬é«˜äºæˆ–ç­‰äº pytorchï¼ˆgpuç‰ˆï¼‰è¦ç”¨åˆ°å¯¹åº”çš„cudaå’Œcudnnç‰ˆæœ¬å°±oäº†ï¼Œåæ­£æˆ‘æ˜¯è£…äº†cuda11.4çš„ï¼Œç„¶åpytorchç”¨åˆ°äº†cuda11.3ã€‚

* **ä¸‹è½½æºç **ï¼Œç›´æ¥ä¸‹è½½yolov5å®˜æ–¹æºç å°±å¥½äº†ï¼Œä»“åº“ï¼šhttps://github.com/ultralytics/yolov5ï¼Œ

  ï¼ˆgiteeé‡Œé¢ä¹Ÿæœ‰å®˜æ–¹åº“ï¼‰ç„¶åæŠŠé‡Œé¢çš„ç”¨ä¸åˆ°çš„æ–‡ä»¶åˆ æ‰æˆ–è€…æ•´åˆåˆ°ä¸€ä¸ªdocæ–‡ä»¶å¤¹å†…ï¼ŒåŒ…æ‹¬ä½†ä¸é™äº.githubæ–‡ä»¶å¤¹ï¼Œè®©é¡¹ç›®çœ‹ä¸Šå»ç®€æ´ä¸€ç‚¹ï¼Œçªå‡ºæˆ‘ä»¬è¦ç”¨åˆ°çš„ä¸œè¥¿![image-20211229215909452](Readme.assets/image-20211229215909452.png)

* **å®‰è£…å…¶ä»–pythonåº“**ï¼Œé¦–å…ˆå‰ææ˜¯åœ¨é…ç½®å¥½çš„condaç¯å¢ƒï¼Œå¹¶æ¿€æ´»äº†ç¯å¢ƒ`activate yolo`

  åœ¨yolov5å½“å‰ç›®å½•ä¸‹æ‰§è¡Œ`pip install -r requirements.txt`å³å¯ï¼Œå…¶ä»–ä¸€åˆ‡é™ç­‰å²æœˆé™å¥½ã€‚

* **æµ‹è¯•ä¸€ä¸‹**ï¼Œå¦‚æœä¸€åˆ‡éƒ½å‡†å¤‡å¥½äº†ï¼Œå¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥`python detect.py --source data/images/bus.jpg --weights pretrained/yolov5s.pt`ï¼Œç¬¬ä¸€æ¬¡è¿è¡Œåº”è¯¥ä¼šä¸‹è½½ä¸€ä¸ªyolov5s.ptçš„æ¨¡å‹ï¼Œéœ€è¦ç­‰å¾…ä¸€ä¸‹ã€‚

  ![image-20210610111308496](Readme.assets/4ad7937fb10245092d62d60cb5264ace-16407870148352.png)

  åœ¨runsç›®å½•ä¸‹å¯ä»¥æ‰¾åˆ°æ£€æµ‹ä¹‹åçš„ç»“æœ

  ![image-20210610111426144](Readme.assets/4fc0b8d5f8555efb961a0d7d04eb7447.png)

* **å‡†å¤‡æ•°æ®é›†**ï¼Œå‰é¢æ‰€åšçš„ä¸€åˆ‡éƒ½å¯ä»¥ç†è§£ä¸ºå‡†å¤‡å¥½â€œç‚¼ä¸¹ç‚‰â€ï¼Œè¿™ä¸€æ­¥æ˜¯èƒ½å¦å¥½å¥½ç‚¼ä¸¹ï¼ˆè®­ç»ƒæ¨¡å‹ï¼‰é‡è¦çš„ä¸€æ­¥ï¼ˆå‡†å¤‡å¥½æŸ´ç«ï¼‰ï¼Œé¦–å…ˆå¾—ä¸‹è½½ä¸€ä¸ªå›¾ç‰‡æ ‡æ³¨çš„è½¯ä»¶labelimgï¼Œè™½ç„¶æˆ–è®¸æœ‰å¾ˆå¤šå…¶ä»–å¥½çš„åçš„æ ‡æ³¨å·¥å…·ï¼Œä½†æˆ‘è¿˜æ˜¯å€¾å‘äºç”¨è¿™ä¸ªï¼Œèµ·ç æºç åœ¨https://github.com/tzutalin/labelImgæ‰¾å¾—åˆ°ï¼ŒæŒ‰ç…§ä»¥å¾€çš„ç½‘ä¸Šå¾ˆå¤šçš„æ•™ç¨‹éƒ½æ˜¯æŠŠæºç downloadä¸‹æ¥ï¼Œç„¶åé…ç½®å¥½ç¯å¢ƒï¼Œç„¶å`python labelimg.py`å½“ç„¶ç°åœ¨ç¡®å®ä¹Ÿå¯ä»¥è¿™æ ·åšï¼Œä½†æˆ‘æ¨èä½ ç›´æ¥æ¥ä¸€ä¸ª`pip install labelimg`,ç„¶ååœ¨ç»ˆç«¯è¾“å…¥labelimgå¹¶å›è½¦å³å¯è¿›å…¥æˆ‘ä»¬çš„ç•Œé¢ä¸­æ¥ã€‚è¿›å…¥ä¹‹åï¼Œé¦–å…ˆæˆ‘ä»¬å…ˆæŠŠä¸€äº›é€‰é¡¹å‹¾ä¸Šï¼Œä¾¿äºæˆ‘ä»¬æ ‡è®°ã€‚ç„¶åï¼Œæœ€é‡è¦çš„æ˜¯æŠŠæ ‡è®°æ¨¡å¼æ”¹ä¸ºyoloã€‚

  ![image-20210609172557286](Readme.assets/d4ecb955da4f912b89616fca0586ae74.png)

  **æ ‡æ³¨çš„è¿‡ç¨‹æ˜¯ï¼š**

  **1.æ‰“å¼€å›¾ç‰‡ç›®å½•**

  ![image-20210610004158135](Readme.assets/d6f1f4a9c52a6870ae4c4fa7bc1eaeb2.png)

  **2.è®¾ç½®æ ‡æ³¨æ–‡ä»¶ä¿å­˜çš„ç›®å½•å¹¶è®¾ç½®è‡ªåŠ¨ä¿å­˜**

  ![image-20210610004215206](Readme.assets/f1932d4d1e9db2e02b8aedc330a72c99.png)

  **3.å¼€å§‹æ ‡æ³¨ï¼Œç”»æ¡†ï¼Œæ ‡è®°ç›®æ ‡çš„labelï¼Œ`crtl+s`ä¿å­˜ï¼Œç„¶ådåˆ‡æ¢åˆ°ä¸‹ä¸€å¼ ç»§ç»­æ ‡æ³¨ï¼Œä¸æ–­é‡å¤é‡å¤**

  ![img](Readme.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzUzMzkyMTg4,size_16,color_FFFFFF,t_70.png)

  labelimgçš„å¿«æ·é”®å¦‚ä¸‹ï¼Œå­¦ä¼šå¿«æ·é”®å¯ä»¥å¸®åŠ©ä½ æé«˜æ•°æ®æ ‡æ³¨çš„æ•ˆç‡ã€‚

  ![image-20210609171855504](Readme.assets/eb217285796cd19a92483bbc6edef7a3.png)

  æ ‡æ³¨å®Œæˆä¹‹åä½ ä¼šå¾—åˆ°ä¸€ç³»åˆ—çš„txtæ–‡ä»¶ï¼Œè¿™é‡Œçš„txtæ–‡ä»¶å°±æ˜¯ç›®æ ‡æ£€æµ‹çš„æ ‡æ³¨æ–‡ä»¶ï¼Œå…¶ä¸­txtæ–‡ä»¶å’Œå›¾ç‰‡æ–‡ä»¶çš„åç§°æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

  ![image-20211212170509714](Readme.assets/c9bd0a8fff78c3784ef4f74acbf1ef2c.png)

  æ‰“å¼€å…·ä½“çš„æ ‡æ³¨æ–‡ä»¶ï¼Œä½ å°†ä¼šçœ‹åˆ°ä¸‹é¢çš„å†…å®¹ï¼Œtxtæ–‡ä»¶ä¸­æ¯ä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªç›®æ ‡ï¼Œä»¥ç©ºæ ¼è¿›è¡ŒåŒºåˆ†ï¼Œåˆ†åˆ«è¡¨ç¤ºç›®æ ‡çš„ç±»åˆ«idï¼Œå½’ä¸€åŒ–å¤„ç†ä¹‹åçš„ä¸­å¿ƒç‚¹xåæ ‡ã€yåæ ‡ã€ç›®æ ‡æ¡†çš„wå’Œhã€‚

  ![image-20211212170853677](Readme.assets/551de550a33e4e994c03cb34c1dc3505.png)

* **ä¿®æ”¹æ•°æ®é›†é…ç½®æ–‡ä»¶**

  **æˆ‘è§‰å¾—è¿™ä¸€æ­¥ä¹Ÿååˆ†é‡è¦ï¼Œä¸€ä¸ªå¥½çš„ç´¢å¼•æ‰æ–¹ä¾¿è®­ç»ƒçš„æ—¶å€™æ‰¾åˆ°å¯¹åº”çš„è®­ç»ƒæ•°æ®é›†ï¼Œæˆ‘å°è¯•è¿‡å…¶ä»–çš„æ•°é›†æ–‡ä»¶æ‘†æ”¾ï¼Œç„¶åå°±å°±å‡ºé”™äº†æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥ï¼Œè·¯å¾„å•¥çš„éƒ½æ˜¯å¯¹çš„ï¼Œæ‰€ä»¥æˆ‘å¼ºçƒˆæ¨èä»¥åæ¯ä¸€ä¸ªè®­ç»ƒæ— è®ºæ•°æ®é›†æ•°é‡å¤šå°‘éƒ½è¦è¿™æ ·æ‘†æ”¾**

  data_set
  â””â”€ score
         â”œâ”€ images
         â”‚    â”œâ”€ test # ä¸‹é¢æ”¾æµ‹è¯•é›†å›¾ç‰‡
         â”‚    â”œâ”€ train # ä¸‹é¢æ”¾è®­ç»ƒé›†å›¾ç‰‡
         â”‚    â””â”€ val # ä¸‹é¢æ”¾éªŒè¯é›†å›¾ç‰‡
         â””â”€ labels
                â”œâ”€ test # ä¸‹é¢æ”¾æµ‹è¯•é›†æ ‡ç­¾
                â”œâ”€ train # ä¸‹é¢æ”¾è®­ç»ƒé›†æ ‡ç­¾
                â”œâ”€ val # ä¸‹é¢æ”¾éªŒè¯é›†æ ‡ç­¾

  ![image-20211229221818125](Readme.assets/image-20211229221818125.png)

  ![image-20211229221836095](Readme.assets/image-20211229221836095.png)

  è¿™é‡Œçš„é…ç½®æ–‡ä»¶æ˜¯ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬åæœŸè®­ç»ƒä½¿ç”¨ï¼Œæˆ‘ä»¬éœ€è¦åœ¨dataç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª`data.yaml`çš„æ–‡ä»¶:

  ```yaml
  # Custom data for safety helmet
  
  
  # train and val data as 1) directory: path/images/, 2) file: path/images.txt, or 3) list: [path1/images/, path2/images/]
  train: /home/lin/Desktop/pycharm_project/yolov5/data_set/images/train
  val: /home/lin/Desktop/pycharm_project/yolov5/data_set/images/val
  
  # number of classes
  nc: 10
  
  # class names
  names: ['hero', 'tower','soldier','monster','red_buff','bird','spirit','lizard','blue_buff','wolf']
  
  ```

  å…¶ä¸­çš„trainå’Œvalè·¯å¾„å¯¹åº”è‡ªå·±æœ¬åœ°æœºå™¨ä»£ç ä¸­data_setï¼ˆæ•°æ®é›†ï¼‰çš„è·¯å¾„ã€‚

  ncï¼Œå¯¹åº”è‡ªå·±æ•°æ®é›†æ ‡ç­¾ä¸­æ ‡æ³¨çš„æ•°é‡

* **æ¨¡å‹è®­ç»ƒ**

  * **é€‰æ‹©ä¸€ä¸ªé¢„è®­ç»ƒæ¨¡å‹ï¼Œå¯ä»¥åˆ°æœ¬é¡¹ç›®çš„pretrained_modelæ–‡ä»¶å¤¹ä¸­é€‰æ‹©ï¼Œä¹Ÿå¯å»[yolov5å®˜æ–¹é¢„è®­ç»ƒæ¨¡å‹æ–‡ä»¶](https://github.com/ultralytics/yolov5/releases)ä¸­ä¸‹è½½**
  * **æ ¹æ®æ‰€é€‰çš„é¢„è®­ç»ƒæ¨¡å‹ï¼Œæ–°å»ºä¸€ä¸ªæ¨¡å‹é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å‰å¾€[yolov5ä»£ç ä»“åº“modelsæ–‡ä»¶å¤¹](https://github.com/ultralytics/yolov5/tree/master/models)å¤åˆ¶å…¶ä¸­çš„å¯¹åº”æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åˆ°æœ¬é¡¹ç›®çš„cfg_yamlæ–‡ä»¶å¤¹ä¸­é€‰æ‹©å¤åˆ¶ï¼Œç„¶åä¿®æ”¹ä¸ºå¯¹åº”è‡ªå·±æ•°æ®é›†çš„æ–‡ä»¶ï¼Œä¸»è¦æ˜¯ncå‚æ•°**

  ä¾‹å¦‚é‡‡ç”¨yolov5sï¼Œæ•°æ®é›†æœ‰10ä¸ªç±»åˆ«ï¼šåœ¨modelsä¸‹å»ºç«‹ä¸€ä¸ª`train_yolov5s.yaml`çš„æ¨¡å‹é…ç½®æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

  ```yaml
  # YOLOv5 ğŸš€ by Ultralytics, GPL-3.0 license
  
  # Parameters
  nc: 10  # number of classes
  depth_multiple: 0.33  # model depth multiple
  width_multiple: 0.50  # layer channel multiple
  anchors:
    - [10,13, 16,30, 33,23]  # P3/8
    - [30,61, 62,45, 59,119]  # P4/16
    - [116,90, 156,198, 373,326]  # P5/32
  
  # YOLOv5 v6.0 backbone
  backbone:
    # [from, number, module, args]
    [[-1, 1, Conv, [64, 6, 2, 2]],  # 0-P1/2
     [-1, 1, Conv, [128, 3, 2]],  # 1-P2/4
     [-1, 3, C3, [128]],
     [-1, 1, Conv, [256, 3, 2]],  # 3-P3/8
     [-1, 6, C3, [256]],
     [-1, 1, Conv, [512, 3, 2]],  # 5-P4/16
     [-1, 9, C3, [512]],
     [-1, 1, Conv, [1024, 3, 2]],  # 7-P5/32
     [-1, 3, C3, [1024]],
     [-1, 1, SPPF, [1024, 5]],  # 9
    ]
  
  # YOLOv5 v6.0 head
  head:
    [[-1, 1, Conv, [512, 1, 1]],
     [-1, 1, nn.Upsample, [None, 2, 'nearest']],
     [[-1, 6], 1, Concat, [1]],  # cat backbone P4
     [-1, 3, C3, [512, False]],  # 13
  
     [-1, 1, Conv, [256, 1, 1]],
     [-1, 1, nn.Upsample, [None, 2, 'nearest']],
     [[-1, 4], 1, Concat, [1]],  # cat backbone P3
     [-1, 3, C3, [256, False]],  # 17 (P3/8-small)
  
     [-1, 1, Conv, [256, 3, 2]],
     [[-1, 14], 1, Concat, [1]],  # cat head P4
     [-1, 3, C3, [512, False]],  # 20 (P4/16-medium)
  
     [-1, 1, Conv, [512, 3, 2]],
     [[-1, 10], 1, Concat, [1]],  # cat head P5
     [-1, 3, C3, [1024, False]],  # 23 (P5/32-large)
  
     [[17, 20, 23], 1, Detect, [nc, anchors]],  # Detect(P3, P4, P5)
    ]
  ```

  å…¶ä¸­çš„ncè·Ÿdata.yamlä¸­çš„ncä¸€æ ·ï¼Œå¯¹åº”è‡ªå·±æ•°æ®é›†æ ‡ç­¾ä¸­æ ‡æ³¨çš„æ•°é‡

  æ¨¡å‹è®­ç»ƒä¹‹å‰ï¼Œè¯·ç¡®ä¿ä»£ç ç›®å½•ä¸‹æœ‰ä»¥ä¸‹æ–‡ä»¶

  ![image-20211229222948734](Readme.assets/image-20211229222948734.png)

  æ‰§è¡Œä¸‹åˆ—ä»£ç è¿è¡Œç¨‹åºå³å¯ï¼š

  `python train.py --data data.yaml --cfg train_yolov5s.yaml --weights pretrained/yolov5s.pt --epoch 100 --batch-size 4`

  cpuç‰ˆï¼š`python train.py --data data.yaml --cfg train_yolov5s.yaml --weights pretrained/yolov5s.pt --epoch 100 --batch-size 4 --device cpu`

  è®­ç»ƒä»£ç æˆåŠŸæ‰§è¡Œä¹‹åä¼šåœ¨å‘½ä»¤è¡Œä¸­è¾“å‡ºä¸‹åˆ—ä¿¡æ¯ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å®‰å¿ƒç­‰å¾…æ¨¡å‹è®­ç»ƒç»“æŸå³å¯ã€‚

  ![image-20210610112655726](Readme.assets/e26e4b4957dc4a73b2aed82f30cf823c.png)

  æ ¹æ®æ•°æ®é›†çš„å¤§å°å’Œè®¾å¤‡çš„æ€§èƒ½ï¼Œç»è¿‡æ¼«é•¿çš„ç­‰å¾…ä¹‹åæ¨¡å‹å°±è®­ç»ƒå®Œäº†ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š

  ![image-20210610134412258](Readme.assets/b2767782b3205a8b66e38e162ff22ce2.png)

  åœ¨`train/runs/exp2`çš„ç›®å½•ä¸‹å¯ä»¥æ‰¾åˆ°è®­ç»ƒå¾—åˆ°çš„æ¨¡å‹å’Œæ—¥å¿—æ–‡ä»¶

  ![image-20210610145140340](Readme.assets/5de92e89b8ff8c8ca2fb99db49b8b451.png)

  æ¨¡å‹è¯„ä¼°

  å‡ºäº†åœ¨åšå®¢ä¸€å¼€å¤´ä½ å°±èƒ½çœ‹åˆ°çš„æ£€æµ‹æ•ˆæœä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å­¦æœ¯ä¸Šçš„è¯„ä»·æŒ‡æ ‡ç”¨æ¥è¡¨ç¤ºæˆ‘ä»¬æ¨¡å‹çš„æ€§èƒ½ï¼Œå…¶ä¸­ç›®æ ‡æ£€æµ‹æœ€å¸¸ç”¨çš„è¯„ä»·æŒ‡æ ‡æ˜¯mAPï¼ŒmAPæ˜¯ä»‹äº0åˆ°1ä¹‹é—´çš„ä¸€ä¸ªæ•°å­—ï¼Œè¿™ä¸ªæ•°å­—è¶Šæ¥è¿‘äº1ï¼Œå°±è¡¨ç¤ºä½ çš„æ¨¡å‹çš„æ€§èƒ½æ›´å¥½ã€‚

  ä¸€èˆ¬æˆ‘ä»¬ä¼šæ¥è§¦åˆ°ä¸¤ä¸ªæŒ‡æ ‡ï¼Œåˆ†åˆ«æ˜¯å¬å›ç‡recallå’Œç²¾åº¦precisionï¼Œä¸¤ä¸ªæŒ‡æ ‡på’Œréƒ½æ˜¯ç®€å•åœ°ä»ä¸€ä¸ªè§’åº¦æ¥åˆ¤æ–­æ¨¡å‹çš„å¥½åï¼Œå‡æ˜¯ä»‹äº0åˆ°1ä¹‹é—´çš„æ•°å€¼ï¼Œå…¶ä¸­æ¥è¿‘äº1è¡¨ç¤ºæ¨¡å‹çš„æ€§èƒ½è¶Šå¥½ï¼Œæ¥è¿‘äº0è¡¨ç¤ºæ¨¡å‹çš„æ€§èƒ½è¶Šå·®ï¼Œä¸ºäº†ç»¼åˆè¯„ä»·ç›®æ ‡æ£€æµ‹çš„æ€§èƒ½ï¼Œä¸€èˆ¬é‡‡ç”¨å‡å€¼å¹³å‡å¯†åº¦mapæ¥è¿›ä¸€æ­¥è¯„ä¼°æ¨¡å‹çš„å¥½åã€‚æˆ‘ä»¬é€šè¿‡è®¾å®šä¸åŒçš„ç½®ä¿¡åº¦çš„é˜ˆå€¼ï¼Œå¯ä»¥å¾—åˆ°åœ¨æ¨¡å‹åœ¨ä¸åŒçš„é˜ˆå€¼ä¸‹æ‰€è®¡ç®—å‡ºçš„på€¼å’Œrå€¼ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œpå€¼å’Œrå€¼æ˜¯è´Ÿç›¸å…³çš„ï¼Œç»˜åˆ¶å‡ºæ¥å¯ä»¥å¾—åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ›²çº¿ï¼Œå…¶ä¸­æ›²çº¿çš„é¢ç§¯æˆ‘ä»¬ç§°APï¼Œç›®æ ‡æ£€æµ‹æ¨¡å‹ä¸­æ¯ç§ç›®æ ‡å¯è®¡ç®—å‡ºä¸€ä¸ªAPå€¼ï¼Œå¯¹æ‰€æœ‰çš„APå€¼æ±‚å¹³å‡åˆ™å¯ä»¥å¾—åˆ°æ¨¡å‹çš„mAPå€¼ï¼Œä»¥æœ¬æ–‡ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—ä½©æˆ´å®‰å…¨å¸½å’Œæœªä½©æˆ´å®‰å…¨å¸½çš„ä¸¤ä¸ªç›®æ ‡çš„APå€¼ï¼Œæˆ‘ä»¬å¯¹ä¸¤ç»„APå€¼æ±‚å¹³å‡ï¼Œå¯ä»¥å¾—åˆ°æ•´ä¸ªæ¨¡å‹çš„mAPå€¼ï¼Œè¯¥å€¼è¶Šæ¥è¿‘1è¡¨ç¤ºæ¨¡å‹çš„æ€§èƒ½è¶Šå¥½ã€‚

  å…³äºæ›´åŠ å­¦æœ¯çš„å®šä¹‰å¤§å®¶å¯ä»¥åœ¨çŸ¥ä¹æˆ–è€…csdnä¸Šè‡ªè¡ŒæŸ¥é˜…ï¼Œä»¥æˆ‘ä»¬æœ¬æ¬¡è®­ç»ƒçš„æ¨¡å‹ä¸ºä¾‹ï¼Œåœ¨æ¨¡å‹ç»“æŸä¹‹åä½ ä¼šæ‰¾åˆ°ä¸‰å¼ å›¾åƒï¼Œåˆ†åˆ«è¡¨ç¤ºæˆ‘ä»¬æ¨¡å‹åœ¨éªŒè¯é›†ä¸Šçš„å¬å›ç‡ã€å‡†ç¡®ç‡å’Œå‡å€¼å¹³å‡å¯†åº¦ã€‚

  ![image-20211212175851524](Readme.assets/88ebb421b4e7567a77d8725611467352.png)

  æ›´å¤šç»†èŠ‚å‚è€ƒ[æ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨YOLOV5è®­ç»ƒè‡ªå·±çš„ç›®æ ‡æ£€æµ‹æ¨¡å‹-å£ç½©æ£€æµ‹-è§†é¢‘æ•™ç¨‹](https://blog.csdn.net/bu_fo/article/details/110921169)

* æ¨¡å‹ä½¿ç”¨

  ```bash
   # æ£€æµ‹æ‘„åƒå¤´
   python detect.py  --weights runs/train/exp_yolov5s/weights/best.pt --source 0  # webcam
   # æ£€æµ‹å›¾ç‰‡æ–‡ä»¶
    python detect.py  --weights runs/train/exp_yolov5s/weights/best.pt --source file.jpg  # image 
   # æ£€æµ‹è§†é¢‘æ–‡ä»¶
     python detect.py --weights runs/train/exp_yolov5s/weights/best.pt --source file.mp4  # video
   # æ£€æµ‹ä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶
    python detect.py --weights runs/train/exp_yolov5s/weights/best.pt path/  # directory
   # æ£€æµ‹ç½‘ç»œè§†é¢‘
    python detect.py --weights runs/train/exp_yolov5s/weights/best.pt --source 'https://youtu.be/NUsoVlDFqZg'  # YouTube video
   # æ£€æµ‹æµåª’ä½“
    python detect.py --weights runs/train/exp_yolov5s/weights/best.pt --source 'rtsp://example.com/media.mp4'  # RTSP, RTMP, HTTP stream                            
  ```

* onnxæ¨¡å‹å®éªŒ(yolov5çš„ç¬¬å…­ç‰ˆæ‰æœ‰dnnè¿™ä¸ªå‚æ•°)

  ```bash
  python detect.py --weights yolov5n.onnx --dnn --source file.mp4 
  ```

